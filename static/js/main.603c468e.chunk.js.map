{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/Cousteau.jpg","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/utils.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","images/success_icon.png","images/fail_icon.png","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/App.js","utils/mestoAuth.js","index.js"],"names":["Header","props","className","src","mestoLogo","alt","exact","path","to","email","type","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","BASE_URL","getResponse","res","ok","json","Promise","reject","status","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","user","method","body","JSON","stringify","data","title","cardId","removeCardLike","addCardLike","authorization","PopupWithForm","noValidate","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","onLoading","event","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","id","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","setTimeout","ref","AddPlacePopup","setTitle","setLink","InfoTooltip","isRegistered","text","ProtectedRoute","Component","component","loggedIn","Login","password","setPassword","setEmail","onLogin","autoComplete","Register","onRegister","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","infoTooltipData","setInfoTooltipData","isLoading","setLoading","setCurrentUser","setCards","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","setLoggedIn","history","useHistory","handleInfoTooltipPopup","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","tokenCheck","useCallback","token","jwt","localStorage","getItem","Authorization","push","removeItem","Provider","changeCardLikeStatus","newCard","newCards","c","removeCard","filter","mestoAuth","statusCode","Error","setItem","setUserInfo","finally","addCustomCard","setNewAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.603c468e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import mestoLogo from '../images/logo.svg';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        src={mestoLogo}\r\n        alt=\"Логотип проекта 'Место'\"\r\n        className=\"header__logo\"\r\n      />\r\n      <nav className=\"header__buttons-container\">\r\n        <Route exact path=\"/\">\r\n          <>\r\n            <Link to=\"#\" className=\"header__link\">\r\n              {props.email}\r\n            </Link>\r\n            <button\r\n              type=\"button\"\r\n              className=\"header__button\"\r\n              onClick={props.onSignOut}\r\n            >\r\n              Выйти\r\n            </button>\r\n          </>\r\n        </Route>\r\n\r\n        <Route exact path=\"/signup\">\r\n          <Link to=\"signin\" className=\"header__link\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n\r\n        <Route exact path=\"/signin\">\r\n          <Link to=\"signup\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext({});\r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Кнопка удаления\r\n  const cardRemoveButtonClassName = `card__remove-button ${\r\n    isOwn ? 'card__remove-button_visible' : ''\r\n  }`;\r\n\r\n  // Кнопка лайка\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like-button ${\r\n    isLiked ? 'card__like-button_active' : ''\r\n  }`;\r\n\r\n  // Попап с картинкой\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  // Лайк\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  // Удаление\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <button\r\n        type=\"button\"\r\n        className={cardRemoveButtonClassName}\r\n        aria-label=\"Удалить\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"card__image-container\">\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"card__image\"\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Лайк\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"card__like-count\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/Cousteau.bbe7c5b6.jpg\";","import { useContext } from 'react';\r\nimport Card from './Card.js';\r\nimport avatar from '../images/Cousteau.jpg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main\">\r\n          <button\r\n            aria-label=\"Изменить аватар\"\r\n            className=\"profile__avatar-edit\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={currentUser.avatar ? currentUser.avatar : avatar}\r\n              alt=\"Аватар пользователя\"\r\n              className=\"profile__avatar\"\r\n            />\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__user\">\r\n              <h1 className=\"profile__name\">\r\n                {currentUser.name ? currentUser.name : 'Жак-Ив Кусто'}\r\n              </h1>\r\n              <p className=\"profile__occupation\">\r\n                {currentUser.about ? currentUser.about : 'Исследователь океана'}\r\n              </p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Редактировать профиль\"\r\n              className=\"profile__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Добавить фотографию\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"cards\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup_image ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__image-container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть попап с фотографией\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__photo\"\r\n        />\r\n        <h3 className=\"popup__card-title\">{props.card.name}</h3>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","// Auth\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const getResponse = (res) => {\r\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n","import { getResponse } from './utils.js';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  // Получение информации польтзователя\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Редактирование информации о пользователе\r\n  setUserInfo(user) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(user),\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Получение карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Добавление своей карточки\r\n  addCustomCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.title,\r\n        link: data.link,\r\n      }),\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Удаление своей карточки\r\n  removeCard(card) {\r\n    return fetch(`${this._baseUrl}/cards/${card}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Посатвить лайк\r\n  addCardLike(card) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then(getResponse);\r\n  }\r\n\r\n  // Убрать лайк\r\n  removeCardLike(card) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(getResponse);\r\n  }\r\n\r\n  changeCardLikeStatus(cardId, isLiked) {\r\n    return isLiked ? this.removeCardLike(cardId) : this.addCardLike(cardId);\r\n  }\r\n\r\n  // Установить новый аватар\r\n  setNewAvatar(user) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: user.avatar,\r\n      }),\r\n    }).then(getResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n    authorization: '0317c846-fa90-4414-9658-7dd1e3d83b45',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}\r\n    >\r\n      <form\r\n        name={props.name}\r\n        className={`popup__container popup__container_${props.name}`}\r\n        noValidate\r\n        onSubmit={props.onSubmit}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n\r\n        {props.children}\r\n\r\n        <button aria-label=\"Сохранить\" className=\"popup__submit-button\">\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  //! Стейты и функции попапа редактирования профиля\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleNameInputChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionInputChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText={props.onLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"user\" className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          name=\"name\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          id=\"profile-name-input\"\r\n          value={name}\r\n          onChange={handleNameInputChange}\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"profile-name-input-error\"\r\n        ></span>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Род занятий\"\r\n          name=\"job\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          className=\"popup__input popup__input_type_occupation\"\r\n          id=\"profie-occupation-input\"\r\n          value={description}\r\n          onChange={handleDescriptionInputChange}\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"profie-occupation-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  //! Реф и функции поапап обновления аватара\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      avatarRef.current.value = '';\r\n    }, 1500);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText={props.onLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"avatar\" className=\"popup__info\">\r\n        <input\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          name=\"link\"\r\n          required=\"\"\r\n          className=\"popup__input popup__input_avatar popup__input_type_url\"\r\n          id=\"avatar-url-input\"\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatar-url-input-error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleTitleInputChange(event) {\r\n    setTitle(event.target.value);\r\n  }\r\n\r\n  function handleLinkInputChange(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onAddPlace({ title, link });\r\n\r\n    setTimeout(() => {\r\n      setTitle('');\r\n      setLink('');\r\n    }, 1500);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      title=\"Новое место\"\r\n      buttonText={props.onLoading ? 'Создание...' : 'Создать'}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset name=\"card\" className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          name=\"title\"\r\n          required=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          className=\"popup__input popup__input_type_title\"\r\n          id=\"card-title-input\"\r\n          value={title}\r\n          onChange={handleTitleInputChange}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"card-title-input-error\"></span>\r\n        <input\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          name=\"link\"\r\n          required=\"\"\r\n          className=\"popup__input popup__input_type_url\"\r\n          id=\"card-url-input\"\r\n          value={link}\r\n          onChange={handleLinkInputChange}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"card-url-input-error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import success from '../images/success_icon.png';\r\nimport fail from '../images/fail_icon.png';\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_register ${props.isOpen && 'popup_opened'}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <img\r\n          className=\"popup__image\"\r\n          alt=\"Иконка события\"\r\n          src={props.data.isRegistered ? success : fail}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title popup__title_register\">\r\n          {props.data.text}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n  function handlePasswordInputChange(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleEmailInputChange(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n\r\n  function resetForm() {\r\n    setPassword('');\r\n    setEmail('');\r\n  }\r\n\r\n  function handleLoginSubmit(event) {\r\n    event.preventDefault();\r\n    props.onLogin({ password, email });\r\n    resetForm();\r\n  }\r\n\r\n  return (\r\n    <section className=\"authorisation\">\r\n      <h2 className=\"authorisation__title\">Вход</h2>\r\n      <form\r\n        className=\"authorisation__container\"\r\n        name=\"login\"\r\n        onSubmit={handleLoginSubmit}\r\n      >\r\n        <fieldset name=\"authorisation\" className=\"authorisation__info\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required=\"\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            className=\"authorisation__input authorisation__input_type_email\"\r\n            id=\"email-input\"\r\n            autoComplete=\"user-email\"\r\n            value={email}\r\n            onChange={handleEmailInputChange}\r\n          />\r\n          <span\r\n            className=\"authorisation__input-error\"\r\n            id=\"email-input-error\"\r\n          ></span>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required=\"\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            className=\"authorisation__input authorisation__input_type_password\"\r\n            id=\"password-input\"\r\n            autoComplete=\"current-password\"\r\n            value={password}\r\n            onChange={handlePasswordInputChange}\r\n          />\r\n          <span\r\n            className=\"authorisation__input-error\"\r\n            id=\"password-input-error\"\r\n          ></span>\r\n        </fieldset>\r\n        <button className=\"authorisation__submit-button\">Войти</button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n  function handlePasswordInputChange(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleEmailInputChange(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n\r\n  function resetForm() {\r\n    setPassword('');\r\n    setEmail('');\r\n  }\r\n\r\n  function handleRegisterSubmit(event) {\r\n    event.preventDefault();\r\n    props.onRegister({ password, email });\r\n    resetForm();\r\n  }\r\n\r\n  return (\r\n    <section className=\"authorisation\">\r\n      <h2 className=\"authorisation__title\">Регистрация</h2>\r\n      <form\r\n        className=\"authorisation__container\"\r\n        name=\"login\"\r\n        onSubmit={handleRegisterSubmit}\r\n      >\r\n        <fieldset name=\"authorisation\" className=\"authorisation__info\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required=\"\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            className=\"authorisation__input authorisation__input_type_email\"\r\n            id=\"email-input\"\r\n            value={email}\r\n            onChange={handleEmailInputChange}\r\n          />\r\n          <span\r\n            className=\"authorisation__input-error\"\r\n            id=\"email-input-error\"\r\n          ></span>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required=\"\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            className=\"authorisation__input authorisation__input_type_password\"\r\n            id=\"password-input\"\r\n            value={password}\r\n            onChange={handlePasswordInputChange}\r\n          />\r\n          <span\r\n            className=\"authorisation__input-error\"\r\n            id=\"password-input-error\"\r\n          ></span>\r\n        </fieldset>\r\n        <button className=\"authorisation__submit-button\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <p className=\"authorisation__caption\">\r\n          Уже зарегистрированы?{' '}\r\n          <Link to=\"signin\" className=\"authorisation__caption-link\">\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport api from '../utils/api.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\n\r\n// Роуты\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\n\r\n// Автоизация\r\nimport * as mestoAuth from '../utils/mestoAuth.js';\r\n\r\nfunction App() {\r\n  //! Стейты попапов\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [infoTooltipData, setInfoTooltipData] = useState({});\r\n\r\n  // Текст при загрузке\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  //! Стейт пользователя\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    avatar: '',\r\n  });\r\n\r\n  //! Стейты карточки\r\n  const [cards, setCards] = useState([]);\r\n\r\n  //! Регистрация и авторизация\r\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  // Попап профиля\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // Попап добавления карточки\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // Попап смены аватара\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  // Попап с инфо о регистрации\r\n  function handleInfoTooltipPopup(data) {\r\n    setInfoTooltipData(data);\r\n    setInfoTooltipPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    setInfoTooltipPopupOpen(false);\r\n  }\r\n\r\n  // Попап с картинкой по клику\r\n  function handleCardClick(card) {\r\n    setSelectedCard({\r\n      ...selectedCard,\r\n      link: card.link,\r\n      name: card.name,\r\n    });\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  // Получение данных пользователя\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // Обновление пользователя\r\n  function handleUpdateUser(user) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .setUserInfo(user)\r\n      .then(setCurrentUser)\r\n      .then(closeAllPopups)\r\n      .catch((err) => console.log(err))\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  // Обновление аватара\r\n  function handleUpdateAvatar(user) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .setNewAvatar(user)\r\n      .then(setCurrentUser)\r\n      .then(closeAllPopups)\r\n      .catch((err) => console.log(err))\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  // Получение массива карточек\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // Лайк\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeCardLikeStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Удаление карточки\r\n  function handleCardDelete(card) {\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Добавление новой карточки\r\n  function handleAddPlace(data) {\r\n    setLoading(true);\r\n\r\n    api\r\n      .addCustomCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .then(closeAllPopups)\r\n      .catch((err) => console.log(err))\r\n      .finally(setTimeout(() => setLoading(false), 1500));\r\n  }\r\n\r\n  // Токен\r\n  const tokenCheck = useCallback(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if (jwt) {\r\n      mestoAuth\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setEmail(res.data.email);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          localStorage.removeItem('jwt');\r\n          history.push('/signin');\r\n        });\r\n    }\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, [tokenCheck]);\r\n\r\n  // Логин\r\n  function handleLogin({ password, email }) {\r\n    mestoAuth\r\n      .authorisation(password, email)\r\n      .then((res) => {\r\n        if (!res || res.statusCode === 400)\r\n          throw new Error('Что-то пошло не так');\r\n\r\n        if (res) {\r\n          localStorage.setItem('jwt', res.token);\r\n          setLoggedIn(true);\r\n          setEmail(email);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        handleInfoTooltipPopup({\r\n          isRegistered: false,\r\n          text: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n        });\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Регистрация\r\n  function handleRegister({ password, email }) {\r\n    mestoAuth\r\n      .register(password, email)\r\n      .then((res) => {\r\n        if (!res || res.statusCode === 400)\r\n          throw new Error('Что-то пошло не так');\r\n\r\n        if (res) {\r\n          handleInfoTooltipPopup({\r\n            isRegistered: true,\r\n            text: 'Вы успешно зарегистрировались.',\r\n          });\r\n          history.push('/signin');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        handleInfoTooltipPopup({\r\n          isRegistered: false,\r\n          text: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n        });\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Выход\r\n  function handleSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setEmail('');\r\n    setLoggedIn(false);\r\n    history.push('/signin');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header email={email} onSignOut={handleSignOut} />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            email={email}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n\r\n          <Route exact path=\"/signin\">\r\n            <Login onLogin={handleLogin} tokenCheck={tokenCheck} />\r\n          </Route>\r\n          <Route exact path=\"/signup\">\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n        {/* Попап редактирования профиля */}\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап добавления карточки */}\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап редактирования аватара */}\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onLoading={isLoading}\r\n        />\r\n\r\n        {/* Попап с картинкой*/}\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        />\r\n\r\n        {/* Попап с подтверждением/отклонением регистрации */}\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          data={infoTooltipData}\r\n        />\r\n\r\n        {/* Попап удаления карточки на будущее \r\n        <PopupWithForm name=\"remove\" title=\"Вы уверены?\" buttonText=\"Да\" />\r\n        */}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { BASE_URL, getResponse } from './utils.js';\r\n\r\nexport function register(password, email) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(getResponse);\r\n}\r\n\r\nexport function authorisation(password, email) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(getResponse);\r\n}\r\n\r\nexport function getContent(token) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(getResponse);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}